# ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç - –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ #4

## –î–∞—Ç–∞: 9 —è–Ω–≤–∞—Ä—è 2026

---

## üéØ –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ —Ä–∞—Å—á–µ—Ç–µ —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
**–ë—ã–ª–æ:** –£—á–∏—Ç—ã–≤–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ 1 –∏–∑ 10 –∏–∑–º–µ—Ä–µ–Ω–∏–π (10% –¥–∞–Ω–Ω—ã—Ö)  
**–°—Ç–∞–ª–æ:** –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤—Å–µ 10 –∏–∑–º–µ—Ä–µ–Ω–∏–π (100% –¥–∞–Ω–Ω—ã—Ö)

### 2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
**–ë—ã–ª–æ:** –¢–æ–ª—å–∫–æ POSIX (Linux/macOS)  
**–°—Ç–∞–ª–æ:** POSIX + Windows (–≥–æ—Ç–æ–≤–æ –∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏)

### 3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ Ctrl+C –ø–æ—è–≤–ª—è–ª–∞—Å—å –æ—à–∏–±–∫–∞ "Write failed: Input/output error"  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ SIGINT –∏ SIGTERM —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º

---

## üìù –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤)

### –î–æ–±–∞–≤–ª–µ–Ω–æ:

1. **–ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ñ–ª–∞–≥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
   ```c
   static volatile sig_atomic_t g_running = 1;
   ```

2. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–∏–≥–Ω–∞–ª–æ–≤:**
   ```c
   static void signal_handler(int signum) {
       (void)signum;
       g_running = 0;
   }
   ```

3. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤ main():**
   ```c
   signal(SIGINT, signal_handler);   // Ctrl+C
   signal(SIGTERM, signal_handler);  // kill
   ```

4. **–ò–∑–º–µ–Ω–µ–Ω –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª:**
   ```c
   while (g_running) {  // –í–º–µ—Å—Ç–æ for(;;)
       // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
   }
   ```

5. **–§–∏–Ω–∞–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º:**
   ```c
   // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
   if (hour_stats.count > 0) {
       // –∑–∞–ø–∏—Å—å –≤ hourly.log
   }
   if (day_stats.count > 0) {
       // –∑–∞–ø–∏—Å—å –≤ daily.log
   }
   if (buffer.size > 0) {
       // —Å–±—Ä–æ—Å –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∏–∑–º–µ—Ä–µ–Ω–∏–π
       flush_measurements(&buffer);
   }
   ```

---

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç ‚Ññ1: –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (20 —Å–µ–∫—É–Ω–¥)
```
‚úÖ Virtual serial ports created
‚úÖ Simulator started
‚úÖ Lab4 started
‚úÖ New measurements: 17 –∑–∞–ø–∏—Å–µ–π
‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ SIGINT
‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
```

### –í—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏:
```
Shutting down...
Final hourly average: 19.469689 (count: 10)
Final daily average: 19.469689 (count: 10)
Flushing 7 remaining measurements
Temperature logger stopped.
```

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ **measurements.log** - 17 –∑–∞–ø–∏—Å–µ–π
- ‚úÖ **hourly.log** - 1 –∑–∞–ø–∏—Å—å (19.469689¬∞C)
- ‚úÖ **daily.log** - 1 –∑–∞–ø–∏—Å—å (19.469689¬∞C)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π:
```
–ò–∑–º–µ—Ä–µ–Ω–∏—è: 20.19, 19.73, 19.47, 19.01, 18.89, 18.95, 19.86, 19.21, 19.63, 19.74
–°—Ä–µ–¥–Ω–µ–µ: (20.19 + 19.73 + ... + 19.74) / 10 = 19.47¬∞C ‚úÖ
```

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- ‚úÖ –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å serial –ø–æ—Ä—Ç–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Å—É–º–º (hexadecimal hash)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
  - –î–∏–∞–ø–∞–∑–æ–Ω —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä: -60..60¬∞C
  - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Å–∫–∞—á–æ–∫: 1¬∞C –º–µ–∂–¥—É –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏
- ‚úÖ –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è (10 –∏–∑–º–µ—Ä–µ–Ω–∏–π)
- ‚úÖ –ó–∞–ø–∏—Å—å –≤ measurements.log
- ‚úÖ –†–∞—Å—á–µ—Ç –∏ –∑–∞–ø–∏—Å—å —Å—Ä–µ–¥–Ω–∏—Ö –∑–∞ —á–∞—Å (hourly.log)
- ‚úÖ –†–∞—Å—á–µ—Ç –∏ –∑–∞–ø–∏—Å—å —Å—Ä–µ–¥–Ω–∏—Ö –∑–∞ –¥–µ–Ω—å (daily.log)
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –ª–æ–≥–æ–≤:
  - measurements.log: 24 —á–∞—Å–∞ (86400 –∑–∞–ø–∏—Å–µ–π)
  - hourly.log: 30 –¥–Ω–µ–π (720 –∑–∞–ø–∏—Å–µ–π)
  - daily.log: 365 –¥–Ω–µ–π (365 –∑–∞–ø–∏—Å–µ–π)
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ SIGINT/SIGTERM
- ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º
- ‚úÖ –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å (POSIX + Windows)

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ **simulator.c** - —Å–∏–º—É–ª—è—Ç–æ—Ä —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ **test_improved.sh** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º
- ‚úÖ **REVIEW.md** - –æ—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ
- ‚úÖ **FIXED_REPORT.md** - –æ—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö

---

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–¥–∞–Ω–∏—é: 100%

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| –ß—Ç–µ–Ω–∏–µ —Å serial –ø–æ—Ä—Ç–∞ | ‚úÖ |
| –ó–∞–ø–∏—Å—å –≤ measurements.log | ‚úÖ |
| –ó–∞–ø–∏—Å—å —Å—Ä–µ–¥–Ω–∏—Ö –∑–∞ —á–∞—Å | ‚úÖ |
| –ó–∞–ø–∏—Å—å —Å—Ä–µ–¥–Ω–∏—Ö –∑–∞ –¥–µ–Ω—å | ‚úÖ |
| –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –ª–æ–≥–æ–≤ | ‚úÖ |
| –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å | ‚úÖ |
| –°–∏–º—É–ª—è—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ | ‚úÖ |
| –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ | ‚úÖ |

---

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: 100%

**–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- ‚úÖ –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
labs/4/
‚îú‚îÄ‚îÄ 4.c                    # ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞)
‚îú‚îÄ‚îÄ simulator.c            # ‚úÖ –°–∏–º—É–ª—è—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
‚îú‚îÄ‚îÄ test_improved.sh       # ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç
‚îú‚îÄ‚îÄ CMakeLists.txt         # –°–±–æ—Ä–æ—á–Ω—ã–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ FINAL_STATUS.md        # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ FIXED_REPORT.md        # –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö
‚îî‚îÄ‚îÄ REVIEW.md              # –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ
```

---

## üéâ –ò—Ç–æ–≥

–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ #4 **–ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞**.

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- –ß–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å serial –ø–æ—Ä—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
- –í—ã—á–∏—Å–ª—è–µ—Ç —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è (100% –∏–∑–º–µ—Ä–µ–Ω–∏–π!)
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ª–æ–≥–∏ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Ä–∞–∑–º–µ—Ä–æ–≤
- –ó–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–æ —Å–∏–≥–Ω–∞–ª—É –±–µ–∑ –æ—à–∏–±–æ–∫
- –ì–æ—Ç–æ–≤–∞ –∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –Ω–∞ Windows

**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** GitHub Copilot  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 9 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û
